# AI Food App

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java-23-orange)](https://www.oracle.com/java/)
[![Spring AI](https://img.shields.io/badge/Spring%20AI-0.8.0-blue)](https://spring.io/projects/spring-ai)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-Latest-blue)](https://www.postgresql.org/)
[![Flyway](https://img.shields.io/badge/Flyway-Latest-red)](https://flywaydb.org/)
[![Docker](https://img.shields.io/badge/Docker-Latest-2496ED)](https://www.docker.com/)
[![Docker Compose](https://img.shields.io/badge/Docker%20Compose-3.8-2496ED)](https://docs.docker.com/compose/)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/OtavioXimarelli/AiFoodApp)


## ğŸ“ Sobre o Projeto

O AI Food App integra gerenciamento de alimentos com inteligÃªncia artificial para gerar receitas personalizadas e anÃ¡lises nutricionais. Agora, o sistema conta com autenticaÃ§Ã£o de usuÃ¡rios e seguranÃ§a reforÃ§ada via Spring Security e JWT.

## ğŸ› ï¸ Tecnologias Utilizadas

- **Spring Boot**: Framework para aplicaÃ§Ãµes Java
- **Spring Data JPA**: PersistÃªncia de dados
- **Spring AI**: IntegraÃ§Ã£o com APIs de IA
- **Maritaca AI**: API de IA para receitas e nutriÃ§Ã£o
- **Spring Security**: AutenticaÃ§Ã£o e autorizaÃ§Ã£o (JWT)
- **PostgreSQL**: Banco de dados relacional
- **Flyway**: Controle de versÃ£o do banco
- **Lombok**: ReduÃ§Ã£o de boilerplate
- **RESTful API**: ComunicaÃ§Ã£o backend
- **Docker**: ContainerizaÃ§Ã£o
- **Docker Compose**: OrquestraÃ§Ã£o de containers
- **dotenv-java**: Carregamento de variÃ¡veis do `.env`

## ğŸ—ï¸ Arquitetura

- **Controller**: Endpoints REST
- **Service**: LÃ³gica de negÃ³cio
- **Repository**: Acesso a dados
- **Model**: Entidades do domÃ­nio
- **DTO**: TransferÃªncia de dados
- **Mapper**: ConversÃ£o entre entidades e DTOs
- **Config**: ConfiguraÃ§Ãµes da aplicaÃ§Ã£o
- **Security**: LÃ³gica de autenticaÃ§Ã£o e autorizaÃ§Ã£o

## ğŸ”’ SeguranÃ§a

- **Spring Security** protege todos os endpoints, exceto `/api/auth/login` e `/api/auth/register`
- **JWT**: AutenticaÃ§Ã£o baseada em token para acesso Ã  API
- **VariÃ¡veis SensÃ­veis**: Configuradas via arquivo `.env` (NUNCA commitado no repositÃ³rio)

### Exemplo de `.env` (NÃƒO use valores reais em produÃ§Ã£o)

```properties
# Database
DB_URL=jdbc:postgresql://localhost:5432/seu_db 
DB_USERNAME=seu_usuario 
DB_PASSWORD=sua_senha

# Maritaca AI
MARITACA_API_URL=https://api.maritaca.ai/api/chat/completions 
MARITACA_API_KEY=sua_chave_api 
MARITACA_API_MODEL=modelo do maritaca
MARITACA_SYSTEM_PROMPT="VocÃª Ã© um assistente culinÃ¡rio"

# JWT
JWT_SECRET=seu_segredo_super_secreto_para_jwt
```

> **O arquivo `.env` estÃ¡ no `.gitignore` por padrÃ£o. Nunca compartilhe seus dados reais.**

## ğŸ—ƒï¸ Estrutura do Banco de Dados

- **tb_food_item**: Alimentos
- **tb_food_items_tag**: Tags dos alimentos
- **tb_recipes**: Receitas
- **tb_recipe_instructions**: Passos das receitas
- **tb_recipes_nutritional_info**: InformaÃ§Ãµes nutricionais
- **tb_recipe_ingredients**: Ingredientes das receitas
- **tb_user**: UsuÃ¡rios (autenticaÃ§Ã£o)

## ğŸš€ Funcionalidades

### Gerenciamento de Alimentos
- CRUD de alimentos

### GeraÃ§Ã£o de Receitas com IA
- CriaÃ§Ã£o automÃ¡tica de receitas baseadas nos alimentos disponÃ­veis
- InstruÃ§Ãµes detalhadas
- InformaÃ§Ãµes nutricionais estimadas

### AnÃ¡lise Nutricional
- AnÃ¡lise do perfil nutricional das receitas

### AutenticaÃ§Ã£o & SeguranÃ§a
- Cadastro e login de usuÃ¡rios
- Endpoints protegidos por JWT

## ğŸ”Œ API Endpoints

### AutenticaÃ§Ã£o
- `POST /api/auth/login`: Login (retorna JWT)
- `POST /api/auth/register`: Cadastro de usuÃ¡rio

### Alimentos (Food Items)
- `POST /api/foods/create`: Cria alimento
- `GET /api/foods/list`: Lista alimentos
- `GET /api/foods/list/{id}`: Busca alimento por ID
- `PUT /api/foods/update`: Atualiza alimento
- `DELETE /api/foods/delete/{id}`: Remove alimento

### Receitas (Recipes)
- `GET /api/recipes/gen`: Gera receita com IA
- `GET /api/recipes/analyze/{id}`: Analisa nutriÃ§Ã£o da receita

## ğŸ’» Como Executar o Projeto

### ExecuÃ§Ã£o Local

1. Clone o repositÃ³rio
   ```bash
   git clone https://github.com/seu-usuario/ai-food-app.git
   cd ai-food-app
   ```

2. Crie um arquivo `.env` na raiz do projeto (veja exemplo acima)

3. Execute o projeto
   ```bash
   ./mvnw spring-boot:run
   ```

### ExecuÃ§Ã£o com Docker

1. Clone o repositÃ³rio
   ```bash
   git clone https://github.com/seu-usuario/ai-food-app.git
   cd ai-food-app
   ```

2. Crie o arquivo `.env` na raiz

3. Construa e execute com Docker Compose
   ```bash
   docker-compose up -d
   ```

## ğŸ§ª Status Atual do Projeto

- âœ… Estrutura bÃ¡sica da aplicaÃ§Ã£o
- âœ… Gerenciamento de alimentos (CRUD)
- âœ… IntegraÃ§Ã£o com Maritaca AI
- âœ… GeraÃ§Ã£o de receitas com IA
- âœ… AnÃ¡lise nutricional
- âœ… AutenticaÃ§Ã£o e seguranÃ§a com JWT
- âœ… ConfiguraÃ§Ã£o sensÃ­vel via .env

## ğŸ“‹ PrÃ³ximos Passos

- ğŸ”² Interface de usuÃ¡rio (React)
- ğŸ”² RecomendaÃ§Ãµes personalizadas
- ğŸ”² Favoritos/histÃ³rico
- ğŸ”² IntegraÃ§Ã£o AI aprimorada
- ğŸ”² CI/CD e monitoramento

## ğŸ‘¥ ContribuiÃ§Ãµes

ContribuiÃ§Ãµes sÃ£o bem-vindas! Abra issues e pull requests.

## ğŸ“„ LicenÃ§a


Este projeto estÃ¡ licenciado sob a [MIT License](LICENSE).

